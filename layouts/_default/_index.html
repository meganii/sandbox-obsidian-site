{{ define "main" }}
  {{ partial "sidebar.html" . }}
  <div class="flex flex-col gap-8">
    {{ partial "topbar.html" . }}
    <section class="prose prose-headings:text-neutral-900 prose-strong:text-neutral-900 prose-a:text-neutral-700">
      {{ .Content }}
      {{ if .Sections }}
        <div class="mt-8 space-y-6">
          {{ range .Sections.ByWeight }}
            <div class="rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm">
              <h2 class="text-xl font-semibold text-neutral-900">
                <a href="{{ .RelPermalink }}" class="hover:text-neutral-600">{{ .Title }}</a>
              </h2>
              {{ with .Params.description }}
                <p class="mt-2 text-sm text-neutral-600">{{ . }}</p>
              {{ end }}
              {{ if .Pages }}
                <ul class="mt-4 space-y-2 text-sm">
                  {{ range .Pages.ByWeight }}
                    <li>
                      <a href="{{ .RelPermalink }}" class="text-neutral-600 hover:text-neutral-900">{{ .LinkTitle }}</a>
                    </li>
                  {{ end }}
                </ul>
              {{ end }}
            </div>
          {{ end }}
        </div>
      {{ end }}
    </section>
  </div>
  {{ partial "toc.html" . }}
{{ end }}
